--- 
- name: "Linux distribution information"
  hosts: localhost
  connection: local
  gather_facts: false
  tasks:
    - name:  "Determine Linux Distro"
      ansible.builtin.setup:
        filter:
          - 'ansible_distribution'
          - 'ansible_distribution_version'
          - 'ansible_distribution_release'
      register: distro_info

    - name: "Check if is Red Hat or Similar"
      set_fact:
        is_redhat: "{{ "distro_info.stdout.ansible_distribution" in ['RedHat', 'CentOS', 'Fedora'] }}"

