--- 
- name: "Linux distribution information"
  hosts: localhost
  connection: local
  gather_facts: false
  tasks:
    - name: "Determine Distro"
      ansible.builtin.setup:
        filter:
          - 'ansible_distribution'
          - 'ansible_distribution_version'
          - 'ansible_distribution_release'
      #register: distro_info

    - name: "Check if RedHat or similar"
      ansible.builtin.set_fact:
        is_redhat: "{{ ansible_distribution in ['RedHat', 'CentOS', 'Fedora'] }}"

    - name: Verify nmap installation
      ansible.builtin.package_facts:
        manager: auto
      when: is_redhat

    - name: Show nmap information
      debug:
        msg: "nmap is installed on {{ distribution }}"
      when: is_redhat

    - name: "Display linux distro"
      debug:
        msg: "Pretty_Name: 
          {{ ansible_distribution }} 
          {{ ansible_distribution_release }} 
          {{ ansible_distribution_version }}"
      when: not is_redhat

  
